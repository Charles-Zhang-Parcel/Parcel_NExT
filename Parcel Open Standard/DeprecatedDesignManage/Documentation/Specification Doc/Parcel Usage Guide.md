<!--The description of this document should be entirely from a user's perspective. It serves as a behavior specification that is irrelevant of implementation. For actual implementation, we might use C++, C#, Python/Lua and even web technology, but that affects only the performance and programming model and shouldn't affect the design or how the program should behaves.-->

# Overview

Parcel doesn't enforce any sort of folder based file management structure - this shall be considered a **meta-workflow** that's specific to each client's own needs and processes. This makes sense because of the diverse possibilities of sources of Parcel data blocks: they can point to specific files, database endpoints, and even other data blocks.

# Datatable Workspace

A single **parcel** should be able to serve directly as either a one-shot run-and-forget database, or a **long-running service database** - keep the program open and do queries when needed<!--For this purpose it's essential that we keep the program clean by avoiding many physical popup windows or at least all windows should minimize with parent; We don't need to bother hiding the application in the task tray because having it on task bar is more expected behavior for an editor-->. We assume an ideal user RAM around 16Gb, and can run roughly 10 instances of Parcel at a time, giving 1.6Gb process memory allocation. We expect the largest single **Data Entry Table** node to contain about 160Mb data.

# Workflow Workspace

(Pending) Inside the **Node Properties Window** is a button to summon **Node Preview Window** - this allows user to read complete contents of a node in a seperate monitor (like in TerraGen) - the contents here are not editable. The **Node Preview Window** is for more complete table content preview, while for quick preview of node outputs, one can just hover the mouse over and a **Node Preview Popup** will contain all essential information and some sampling of table contents. <!--Since we already have Node Preview Popup, we might not need Node Properties Window at all especially since it's not editable anyway; Unless we also make sure Node Preview Window is real-time, so changes upstream reflects automtically so one can read statistics from it.-->

<!--Everything is a node.-->All nodes and everything else in the entire Parcel application and parcel package are defined and viewable inside Workflow workspace, including document settings<!--In fact, the Document Settings node's Node Properties Window should look the same as if someone clicks the "Document Settings" button at Home page for the document if any - which we are not doing it this way since we have a more dedicated Home page display text fields with buttons for modifying specific fields at this moment.-->. *Dark Gray* is default Workflow page tab color; *Green* is Datatable workspace nodes page tab color; *Red* is Present workspace nodes page tab color; **White** is the document settings nodes page tab color. Inside the Workflow workspace, one can edit properties and move things around, but *can only delete nodes that are defined in the Dark Gray pages* - attempting to delete other nodes will issue warnings and prompt to do so inside dedicated workspaces. The Workspace Pages List will just be *a plain list with color-coded items*, sorted by color then by name<!--We will not do collapsible catagorization to avoid complicating the UI-->. Here are some notable "default" workflow pages: 1) (White) Settings; 2) (Green) Datatable Page; 3) (Dark Gray) Workflow; 4) (Red) Layout. Notice that workflow pages are ONLY FOR VIEW-wise ORGANIZATION PURPOSE, they do not serve namespace purpose, and thus their labels do not need to be unique. On the other hand, all **NODES' names defined inside a single Parcel file must be unique** (one can artificially add namespaces to them by following a `namespace.Actual Node Name` convention).

Parcel can run only one workflow at a time: some workflows are one-shot, others (like the ones involve services) are long-running. Either way, running a workflow is always handled in a background worker thread so generally it should not affect normal interface interactions. For long-running service, the local machine becomes a server; Usually for this kind of workflows (and for all workflows) we can run directly using a command line without starting the GUI interface. (Pending decision on whether the worker thread should make a copy of all states or fetch dynamically changed nodes as its service content; To avoid memory consumption, most likely we will want the service to be "live")

# Present Workspace

The present workspace serves two functionalities:

1. Dashboard building and presentation
2. General server based serving configurations<!--This is new! We wish to be able to serve our parcel directly on the web as a database running locally! It's like SQLite, but with a web console/interface for others in LAN to access! Such service is provided per Parcel process.-->

Both of above will create corresponding nodes inside Workflow workspace.